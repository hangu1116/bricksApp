import * as React from "react";
import {
    StyleSheet,
    View,
    Text,
    TouchableOpacity,
    Dimensions
} from "react-native";
import {useEffect, useState} from "react";
import Pdf from 'react-native-pdf';
import AutoScaleImage from '../../../components/Image/index';
import Svg, {
    G,
    Path,
} from 'react-native-svg';
import {Price} from "../../../components/Price";

export const OfficialInfo = ({detail}) => {
    const [showPdf, setShowPdf] = useState(false);
    if(!detail){
        return null;
    }
    const source = { uri: 'https://www.lego.com/cdn/product-assets/product.bi.core.pdf/6252747.pdf', cache: true };
    const handleInstruction = () => {
        setShowPdf(!showPdf);
    }
    return (
        <View>
            <View style={styles.grids}>
                <View style={[styles.inline,{marginBottom: 22}]}>
                    <Text style={styles.tit}>积木信息</Text>
                    <Svg width="14" height="14" viewBox="0 0 100 100" fill="#969696">
                        <G transform="matrix(1 0 0 1 10 86)">
                            <Path
                                d="M46.2402 4.15039Q54.3457 4.15039 61.4746 1.07422Q68.6035-2.00195 74.0479-7.4707Q79.4922-12.9395 82.5928-20.0684Q85.6934-27.1973 85.6934-35.2539Q85.6934-43.3105 82.5928-50.4395Q79.4922-57.5684 74.0234-63.0371Q68.5547-68.5059 61.4258-71.582Q54.2969-74.6582 46.1914-74.6582Q38.1348-74.6582 31.0059-71.582Q23.877-68.5059 18.457-63.0371Q13.0371-57.5684 9.93652-50.4395Q6.83594-43.3105 6.83594-35.2539Q6.83594-27.1973 9.93652-20.0684Q13.0371-12.9395 18.4814-7.4707Q23.9258-2.00195 31.0547 1.07422Q38.1836 4.15039 46.2402 4.15039ZM46.2402-3.27148Q39.5996-3.27148 33.8135-5.7373Q28.0273-8.20312 23.6572-12.5977Q19.2871-16.9922 16.8213-22.8027Q14.3555-28.6133 14.3555-35.2539Q14.3555-41.8945 16.7969-47.7051Q19.2383-53.5156 23.6084-57.9102Q27.9785-62.3047 33.7646-64.7705Q39.5508-67.2363 46.1914-67.2363Q52.8809-67.2363 58.667-64.7705Q64.4531-62.3047 68.8477-57.9102Q73.2422-53.5156 75.7324-47.7051Q78.2227-41.8945 78.2227-35.2539Q78.2227-28.6133 75.7568-22.8027Q73.291-16.9922 68.9209-12.5977Q64.5508-8.20312 58.7402-5.7373Q52.9297-3.27148 46.2402-3.27148Z"/>
                            <Path
                                d="M39.6484-14.1113L55.1758-14.1113Q56.4941-14.1113 57.3975-14.9658Q58.3008-15.8203 58.3008-17.1387Q58.3008-18.4082 57.3975-19.2871Q56.4941-20.166 55.1758-20.166L50.8789-20.166L50.8789-38.4277Q50.8789-40.2344 50-41.3086Q49.1211-42.3828 47.5098-42.3828L40.3809-42.3828Q39.0625-42.3828 38.1348-41.5039Q37.207-40.625 37.207-39.3555Q37.207-38.0371 38.1348-37.1582Q39.0625-36.2793 40.3809-36.2793L43.9453-36.2793L43.9453-20.166L39.6484-20.166Q38.3301-20.166 37.4023-19.2871Q36.4746-18.4082 36.4746-17.1387Q36.4746-15.8203 37.4023-14.9658Q38.3301-14.1113 39.6484-14.1113ZM45.8496-48.3398Q48.1445-48.3398 49.707-49.9512Q51.2695-51.5625 51.2695-53.8574Q51.2695-56.1523 49.707-57.7637Q48.1445-59.375 45.8496-59.375Q43.5547-59.375 41.9678-57.7637Q40.3809-56.1523 40.3809-53.8574Q40.3809-51.5625 41.9678-49.9512Q43.5547-48.3398 45.8496-48.3398Z"/>
                        </G>
                    </Svg>
                </View>
                <View style={styles.gridBody}>
                    <View style={styles.gridItem}>
                        <Svg width="26" height="26" viewBox="0 0 90 90" fill="#999999">
                            <G transform="matrix(1 0 0 1 6 80)">
                                <Path d="M9.76562-11.9141Q9.76562-5.76172 12.8906-2.68555Q16.0156 0.390625 22.2168 0.390625L67.3828 0.390625Q72.6074 0.390625 75.5371-2.68555Q78.4668-5.76172 78.4668-11.9141L78.4668-51.2207Q78.4668-57.373 75.3418-60.4492Q72.2168-63.5254 66.0156-63.5254L60.4004-63.5254Q60.2539-67.6758 58.0078-71.1426Q55.7617-74.6094 52.0996-76.709Q48.4375-78.8086 44.0918-78.8086Q39.7949-78.8086 36.1328-76.709Q32.4707-74.6094 30.2246-71.1426Q27.9785-67.6758 27.832-63.5254L22.2168-63.5254Q16.0156-63.5254 12.8906-60.4492Q9.76562-57.373 9.76562-51.2207ZM16.7969-12.2559L16.7969-50.8789Q16.7969-53.6621 18.2373-55.0537Q19.6777-56.4453 22.3145-56.4453L65.918-56.4453Q68.5547-56.4453 69.9951-55.0537Q71.4355-53.6621 71.4355-50.8789L71.4355-12.2559Q71.4355-9.47266 70.166-8.08105Q68.8965-6.68945 67.2852-6.68945L22.3145-6.68945Q19.6777-6.68945 18.2373-8.08105Q16.7969-9.47266 16.7969-12.2559ZM34.8633-63.5254Q34.9609-65.9668 36.2305-67.9199Q37.5-69.873 39.5752-71.0205Q41.6504-72.168 44.0918-72.168Q46.582-72.168 48.6328-71.0205Q50.6836-69.873 51.9531-67.9199Q53.2227-65.9668 53.3203-63.5254Z"/>
                            </G>
                        </Svg>
                        <View style={{justifyContent:'space-between',marginLeft: 12}}>
                            <Price price={3999}/>
                            <Text style={styles.gridCopy}>$ 14.99</Text>
                        </View>
                    </View>
                    <View style={styles.gridItem}>
                        <Svg width="30" height="30" viewBox="0 0 94 94" fill="#999999">
                            <G transform="matrix(1 0 0 1 0 82)">
                                <Path class="multicolor-0:systemRedColor SFSymbolsPreviewFF3B30" d="M22.2168 0.390625L73.877 0.390625Q80.127 0.390625 83.2275-2.68555Q86.3281-5.76172 86.3281-11.9141L86.3281-58.4961Q86.3281-64.6484 83.2275-67.7246Q80.127-70.8008 73.877-70.8008L22.2168-70.8008Q16.0156-70.8008 12.8906-67.7246Q9.76562-64.6484 9.76562-58.4961L9.76562-11.9141Q9.76562-5.76172 12.8906-2.68555Q16.0156 0.390625 22.2168 0.390625ZM21.5332-6.68945Q19.2871-6.68945 18.042-7.88574Q16.7969-9.08203 16.7969-11.4746L16.7969-48.1934Q16.7969-50.5859 18.042-51.7822Q19.2871-52.9785 21.5332-52.9785L74.5117-52.9785Q76.8066-52.9785 78.0518-51.7822Q79.2969-50.5859 79.2969-48.1934L79.2969-11.4746Q79.2969-9.08203 78.0518-7.88574Q76.8066-6.68945 74.5117-6.68945ZM40.625-26.8066L42.8711-26.8066Q43.9453-26.8066 44.3848-27.2217Q44.8242-27.6367 44.8242-28.7109L44.8242-30.957Q44.8242-32.0312 44.3848-32.4463Q43.9453-32.8613 42.8711-32.8613L40.625-32.8613Q39.5508-32.8613 39.1113-32.4463Q38.6719-32.0312 38.6719-30.957L38.6719-28.7109Q38.6719-27.6367 39.1113-27.2217Q39.5508-26.8066 40.625-26.8066ZM40.625-14.4531L42.8711-14.4531Q43.9453-14.4531 44.3848-14.8682Q44.8242-15.2832 44.8242-16.3574L44.8242-18.6035Q44.8242-19.6777 44.3848-20.0928Q43.9453-20.5078 42.8711-20.5078L40.625-20.5078Q39.5508-20.5078 39.1113-20.0928Q38.6719-19.6777 38.6719-18.6035L38.6719-16.3574Q38.6719-15.2832 39.1113-14.8682Q39.5508-14.4531 40.625-14.4531ZM40.625-39.1602L42.8711-39.1602Q43.9453-39.1602 44.3848-39.5752Q44.8242-39.9902 44.8242-41.0645L44.8242-43.3105Q44.8242-44.3848 44.3848-44.7998Q43.9453-45.2148 42.8711-45.2148L40.625-45.2148Q39.5508-45.2148 39.1113-44.7998Q38.6719-44.3848 38.6719-43.3105L38.6719-41.0645Q38.6719-39.9902 39.1113-39.5752Q39.5508-39.1602 40.625-39.1602ZM65.7227-26.8066L67.9688-26.8066Q69.043-26.8066 69.4824-27.2217Q69.9219-27.6367 69.9219-28.7109L69.9219-30.957Q69.9219-32.0312 69.4824-32.4463Q69.043-32.8613 67.9688-32.8613L65.7227-32.8613Q64.6484-32.8613 64.209-32.4463Q63.7695-32.0312 63.7695-30.957L63.7695-28.7109Q63.7695-27.6367 64.209-27.2217Q64.6484-26.8066 65.7227-26.8066ZM28.0762-26.8066L30.3223-26.8066Q31.3965-26.8066 31.8359-27.2217Q32.2754-27.6367 32.2754-28.7109L32.2754-30.957Q32.2754-32.0312 31.8359-32.4463Q31.3965-32.8613 30.3223-32.8613L28.0762-32.8613Q27.002-32.8613 26.5625-32.4463Q26.123-32.0312 26.123-30.957L26.123-28.7109Q26.123-27.6367 26.5625-27.2217Q27.002-26.8066 28.0762-26.8066ZM28.0762-14.4531L30.3223-14.4531Q31.3965-14.4531 31.8359-14.8682Q32.2754-15.2832 32.2754-16.3574L32.2754-18.6035Q32.2754-19.6777 31.8359-20.0928Q31.3965-20.5078 30.3223-20.5078L28.0762-20.5078Q27.002-20.5078 26.5625-20.0928Q26.123-19.6777 26.123-18.6035L26.123-16.3574Q26.123-15.2832 26.5625-14.8682Q27.002-14.4531 28.0762-14.4531ZM65.7227-39.1602L67.9688-39.1602Q69.043-39.1602 69.4824-39.5752Q69.9219-39.9902 69.9219-41.0645L69.9219-43.3105Q69.9219-44.3848 69.4824-44.7998Q69.043-45.2148 67.9688-45.2148L65.7227-45.2148Q64.6484-45.2148 64.209-44.7998Q63.7695-44.3848 63.7695-43.3105L63.7695-41.0645Q63.7695-39.9902 64.209-39.5752Q64.6484-39.1602 65.7227-39.1602ZM53.1738-26.8066L55.4199-26.8066Q56.4941-26.8066 56.9336-27.2217Q57.373-27.6367 57.373-28.7109L57.373-30.957Q57.373-32.0312 56.9336-32.4463Q56.4941-32.8613 55.4199-32.8613L53.1738-32.8613Q52.0996-32.8613 51.6602-32.4463Q51.2207-32.0312 51.2207-30.957L51.2207-28.7109Q51.2207-27.6367 51.6602-27.2217Q52.0996-26.8066 53.1738-26.8066ZM53.1738-14.4531L55.4199-14.4531Q56.4941-14.4531 56.9336-14.8682Q57.373-15.2832 57.373-16.3574L57.373-18.6035Q57.373-19.6777 56.9336-20.0928Q56.4941-20.5078 55.4199-20.5078L53.1738-20.5078Q52.0996-20.5078 51.6602-20.0928Q51.2207-19.6777 51.2207-18.6035L51.2207-16.3574Q51.2207-15.2832 51.6602-14.8682Q52.0996-14.4531 53.1738-14.4531ZM53.1738-39.1602L55.4199-39.1602Q56.4941-39.1602 56.9336-39.5752Q57.373-39.9902 57.373-41.0645L57.373-43.3105Q57.373-44.3848 56.9336-44.7998Q56.4941-45.2148 55.4199-45.2148L53.1738-45.2148Q52.0996-45.2148 51.6602-44.7998Q51.2207-44.3848 51.2207-43.3105L51.2207-41.0645Q51.2207-39.9902 51.6602-39.5752Q52.0996-39.1602 53.1738-39.1602Z"/>
                            </G>
                        </Svg>
                        <View style={{justifyContent:'space-between',marginLeft: 12}}>
                            <Text style={styles.gridSize}>2019-10-23</Text>
                            <Text style={styles.gridCopy}>2021-12-31</Text>
                        </View>
                    </View>
                </View>
                <View style={styles.gridBody}>
                    <View style={styles.gridItem}>
                        <Svg width="26" height="26" viewBox="0 0 90 90" fill="#999999">
                            <G transform="matrix(1 0 0 1 0 80)">
                                <Path d="M15.5273-10.5469L45.3125 6.49414Q48.6328 8.39844 51.9531 6.49414L81.7383-10.5469Q84.5215-12.1094 86.0352-14.1846Q87.5488-16.2598 87.5488-20.8496L87.5488-50.3418Q87.5488-53.6621 86.3037-55.8838Q85.0586-58.1055 82.3242-59.668L56.2012-74.6582Q52.3438-76.8555 48.6328-76.8555Q44.9219-76.8555 41.1133-74.6582L14.9902-59.668Q12.2559-58.1055 11.0107-55.8838Q9.76562-53.6621 9.76562-50.3418L9.76562-20.8496Q9.76562-16.2598 11.2793-14.1846Q12.793-12.1094 15.5273-10.5469ZM19.2871-16.3574Q17.7246-17.2852 17.041-18.3594Q16.3574-19.4336 16.3574-21.0449L16.3574-48.9746L45.2148-32.2754L45.2148-1.41602ZM78.0273-16.3574L52.0996-1.41602L52.0996-32.2754L80.957-48.9746L80.957-21.0449Q80.957-19.4336 80.2734-18.3594Q79.5898-17.2852 78.0273-16.3574ZM48.6328-38.3789L20.2148-54.6387L43.8477-68.2617Q48.6816-71.0449 53.418-68.2617L77.0996-54.6387Z"/>
                            </G>
                        </Svg>
                        <View style={{justifyContent:'space-between',marginLeft: 12}}>
                            <View style={styles.inline}>
                                <Text style={styles.gridSize}>6090</Text>
                                <Text style={styles.gridSizeSmall}>颗粒</Text>
                            </View>
                            <View style={styles.inline}>
                                <Text style={styles.gridSize}>28</Text>
                                <Text style={styles.gridSizeSmall}>人仔</Text>
                            </View>
                        </View>
                    </View>
                    <View style={styles.gridItem}>
                        <Svg width="28" height="28" viewBox="0 0 94 94" fill="#999999">
                            <G transform="matrix(1 0 0 1 0 82)">
                                <Path d="M16.7566-13.2565L20.2722-7.20179L47.7136-20.9714L75.155-7.20179L78.6706-13.2565L51.2292-27.0261L51.2292-59.4968L44.198-59.4968L44.198-27.0261ZM7.86985-7.83656Q7.03978-5.93226 7.74778-4.76039Q8.45579-3.58851 10.4577-3.34437L26.4245-1.4889Q28.3777-1.24476 29.6472-1.87953Q30.9167-2.51429 31.2097-3.80824Q31.5027-5.10218 30.4773-6.86L20.907-23.3639Q19.9304-25.1218 18.6609-25.5124Q17.3913-25.903 16.2195-25.1462Q15.0476-24.3893 14.2663-22.6315ZM87.5574-7.83656L81.1609-22.6315Q80.3796-24.3893 79.2077-25.1462Q78.0359-25.903 76.7663-25.5124Q75.4968-25.1218 74.5202-23.3639L64.9499-6.86Q63.9245-5.10218 64.2175-3.80824Q64.5105-2.51429 65.78-1.87953Q67.0495-1.24476 69.0027-1.4889L84.9695-3.34437Q86.9714-3.58851 87.6794-4.76039Q88.3874-5.93226 87.5574-7.83656ZM45.0769-70.3366L35.5066-57.446Q34.3347-55.9323 34.2615-54.5163Q34.1882-53.1003 35.1648-52.1725Q36.1413-51.2448 38.1433-51.2448L57.1863-51.2448Q59.237-51.2448 60.238-52.1481Q61.239-53.0514 61.1413-54.4675Q61.0437-55.8835 59.8718-57.446L50.2527-70.3366Q48.9831-71.9968 47.6648-72.0212Q46.3464-72.0456 45.0769-70.3366Z"/>
                            </G>
                        </Svg>
                        <View style={{justifyContent:'space-between',marginLeft: 12}}>
                            <View style={styles.inline}>
                                <Text style={styles.gridSize}>69</Text>
                                {/*<Text style={styles.gridSizeSmall}>cm</Text>*/}
                                <Svg viewBox="0 0 1024 1024" width="12" height="12" fill="#999999">
                                    <Path
                                        d="M720.298667 768c-12.714667 0-23.850667-4.778667-33.408-14.293333L270.293333 337.066667c-19.072-19.114667-19.072-49.322667 0-66.816 19.114667-19.072 49.322667-19.072 66.816 0l416.597334 415.018666c19.072 19.072 19.072 49.28 0 66.773334-9.557333 11.136-22.272 15.914667-33.408 15.914666z"
                                        p-id="9998" data-spm-anchor-id="a313x.7781069.0.i0"/>
                                    <Path
                                        d="M303.701333 768c-12.714667 0-23.850667-4.778667-33.408-14.293333-19.072-19.114667-19.072-49.322667 0-66.816l415.018667-416.597334c19.072-19.072 49.28-19.072 66.773333 0 19.114667 19.114667 19.114667 49.322667 0 66.816l-414.976 416.597334a45.781333 45.781333 0 0 1-33.408 14.293333z"
                                        p-id="9999"/>
                                </Svg>
                                <Text style={styles.gridSize}>19</Text>
                                {/*<Text style={styles.gridSizeSmall}>cm</Text>*/}
                                <Svg viewBox="0 0 1024 1024" width="12" height="12" fill="#999999">
                                    <Path
                                        d="M720.298667 768c-12.714667 0-23.850667-4.778667-33.408-14.293333L270.293333 337.066667c-19.072-19.114667-19.072-49.322667 0-66.816 19.114667-19.072 49.322667-19.072 66.816 0l416.597334 415.018666c19.072 19.072 19.072 49.28 0 66.773334-9.557333 11.136-22.272 15.914667-33.408 15.914666z"
                                        p-id="9998" data-spm-anchor-id="a313x.7781069.0.i0"/>
                                    <Path
                                        d="M303.701333 768c-12.714667 0-23.850667-4.778667-33.408-14.293333-19.072-19.114667-19.072-49.322667 0-66.816l415.018667-416.597334c19.072-19.072 49.28-19.072 66.773333 0 19.114667 19.114667 19.114667 49.322667 0 66.816l-414.976 416.597334a45.781333 45.781333 0 0 1-33.408 14.293333z"
                                        p-id="9999"/>
                                </Svg>
                                <Text style={styles.gridSize}>3.2</Text>
                                <Text style={styles.gridSizeSmall}>cm</Text>
                            </View>
                            <View style={styles.inline}>
                                <Text style={styles.gridSize}>320</Text>
                                <Text style={styles.gridSizeSmall}>g</Text>
                            </View>
                        </View>
                    </View>
                </View>
                <TouchableOpacity style={styles.gridInstruction} onPress={handleInstruction}>
                    <Text style={styles.gridInstructionTxt}>图纸</Text>
                    <AutoScaleImage uri={'https://s1.ax1x.com/2022/03/24/qJv1Ug.png'} style={styles.gridInstructionIcon}/>
                </TouchableOpacity>
                <TouchableOpacity style={styles.cardBody}>
                    <Text style={styles.gridIssueTxt}>信息有错误?</Text>
                </TouchableOpacity>
            </View>
            {
                showPdf?<View style={styles.pdfDomain}>
                    <TouchableOpacity style={styles.closeBtn} onPress={handleInstruction}>
                        <Text>x</Text>
                    </TouchableOpacity>
                    <Pdf
                        source={source}
                        onLoadComplete={(numberOfPages,filePath) => {
                            console.log(`Number of pages: ${numberOfPages}`);
                        }}
                        onError={(error) => {
                            console.log(error);
                        }}
                        onPressLink={(uri) => {
                            console.log(`Link pressed: ${uri}`);
                        }}
                        style={styles.pdf}/>
                </View>:null
            }
        </View>
    )
}

const styles = StyleSheet.create({
    inline:{
        flexDirection: 'row',
        alignItems: 'center',
        flex:1
    },
    inlineBottom:{
        flexDirection: 'row',
        alignItems: 'flex-end',
    },
    grids:{
        backgroundColor: '#e2efff',
        borderRadius: 12,
        padding: 10,
        marginVertical: 6,
    },
    tit:{
        fontSize: 12,
        lineHeight: 20,
        color: '#969696',
    },
    gridBody:{
        flexDirection:'row',
        justifyContent:'space-between',
        marginBottom: 20,
    },
    gridItem:{
        alignItems: 'center',
        flexDirection:'row',
        flex:1,
    },
    gridTxt:{
        fontSize: 12,
        lineHeight: 14,
    },
    gridSize:{
        fontSize: 16,
        lineHeight: 20,
        fontWeight:'500',
    },
    gridSizeSmall:{
        fontSize: 12,
        lineHeight: 20,
        marginLeft: 3
    },
    gridCopy:{
        fontSize: 12,
        lineHeight: 18,
    },
    gridInstruction:{
        backgroundColor: '#000',
        paddingVertical: 12,
        paddingHorizontal: 24,
        borderRadius: 6,
        marginHorizontal: 6,
        marginTop: 10,
        marginBottom: 14,
        flexDirection: 'row',
        alignItems: 'center',
        justifyContent: 'center'
    },
    gridInstructionTxt:{
        fontSize: 12,
        color: '#fff',
        fontWeight: '500',
        textAlign:'center'
    },
    gridInstructionIcon:{
        width: 16,
        marginLeft: 6,
    },
    gridIssueTxt:{
        fontSize: 12,
        marginTop:6,
        marginBottom: 6,
        textAlign:'center',
        color: '#969696',
    },
    pdfDomain:{
        position: 'absolute',
        zIndex: 0,
        top: 0,
        left:0,
        width:Dimensions.get('window').width,
        height:Dimensions.get('window').height,
    },
    pdf:{
        width:Dimensions.get('window').width,
        height:Dimensions.get('window').height,
    },
    closeBtn:{
        position: 'absolute',
        zIndex: 1,
        top: 50,
        right: 20,
        width: 30,
        height: 30,
        borderRadius: 15,
        backgroundColor:'#fff'
    }
});